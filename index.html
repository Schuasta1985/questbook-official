<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <!-- Wichtig für Mobilgeräte -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quest-Buch – Start</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Fehlermeldungsbutton oben rechts -->
  <button id="fehler-button" onclick="zeigeFehlerPopup()">Fehlermeldung</button>

  <header>
    <h1>Willkommen im Quest-Buch! Vers. 0.1</h1>
  </header>

  <main id="auth-container">
    <!-- Infotext über das Spiel -->
    <section id="game-info">
      <h2>Was ist eigentlich ein Quest-Buch?</h2>
      <p class="info-text">
        🔥 <strong>Werde zum Helden deines Alltags!</strong> 🔥<br>
        Mit dem <span class="highlight">Quest-Buch</span> wird dein Alltag zum <span class="epic">epischen Abenteuer!</span> 💪✨<br>
        Erledige mit deiner Familie oder Freunden spannende Quests, wirke mächtige Zauber und setze Spezialfähigkeiten ein. 🎭🔮<br>
        Je mehr Aufgaben du meisterst, desto stärker wird dein Charakter – Level für Level! 🚀<br>
        <span class="cta">Bist du bereit, dein eigenes Abenteuer zu starten?</span> 🏆🎉
      </p>
    </section>

    <!-- Buttons für Login/Register -->
    <div id="auth-selection">
      <button id="login-btn" class="auth-button">Einloggen</button>
      <button id="register-btn" class="auth-button">Registrieren</button>
    </div>

    <!-- Login-Formular -->
    <div id="login-form" class="auth-form" style="display: none;">
      <h3>Einloggen</h3>
      <input type="email" id="login-email" placeholder="E-Mail">
      <input type="password" id="login-password" placeholder="Passwort">
      <button class="auth-button" onclick="benutzerEinloggen()">Anmelden</button>
    </div>

    <!-- Registrierungs-Formular -->
    <div id="register-form" class="auth-form" style="display: none;">
      <h3>Registrieren / Familie gründen</h3>
      <input type="text" id="family-name" placeholder="(Optional) Familienname">
      <input type="email" id="admin-email" placeholder="E-Mail">
      <input type="password" id="admin-password" placeholder="Passwort">

      <!-- Captcha: einfache Rechenaufgabe -->
      <div id="captcha-section">
        <p id="captcha-frage"></p>
        <input type="number" id="captcha-input" placeholder="Antwort eingeben">
      </div>

      <!-- Datenschutz-Checkbox -->
      <label>
        <input type="checkbox" id="datenschutz-checkbox">
        Ich habe die <a href="datenschutz.html" target="_blank">Datenschutzrichtlinie</a> gelesen und akzeptiere sie.
      </label>

      <button class="auth-button" onclick="familieErstellen()">Registrieren</button>
    </div>

    <!-- Link zum Synthesia-Video (oder YouTube) -->
    <div style="margin-top: 30px; text-align: center;">
      <a href="#" onclick="zeigeSynthesiaPopup()">Erklärvideo ansehen</a>
    </div>
  </main>

  <!-- Synthesia-Popup -->
  <div id="synthesia-popup" class="popup-modal" onclick="schliesseSynthesiaPopup()">
    <div class="popup-content" onclick="event.stopPropagation()">
      <!-- Synthesia-Embed: Wir leeren src beim Schließen -->
      <div style="position: relative; overflow: hidden; aspect-ratio: 16/9;">
        <iframe
          id="synthesia-iframe"
          loading="lazy"
          title="Synthesia video player - Questbook"
          allowfullscreen
          allow="encrypted-media; fullscreen;"
          style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0; margin: 0; overflow:hidden;"
        ></iframe>
      </div>
    </div>
  </div>

  <!-- Admin-Login-Popup -->
  <div id="admin-login-popup" class="popup-modal" style="display:none;" onclick="schließeAdminLogin()">
    <div class="popup-content" onclick="event.stopPropagation()">
      <h3>Admin-Login</h3>
      <input type="email" id="admin-email-input" placeholder="Admin-E-Mail">
      <input type="password" id="admin-password-input" placeholder="Passwort">
      <button onclick="adminLogin()">Einloggen</button>
    </div>
  </div>

  <!-- Fehlermeldungs-Popup -->
  <div id="error-popup" class="popup-modal" onclick="schließeFehlerPopup()">
    <div class="popup-content" onclick="event.stopPropagation()">
      <h3>Fehlermeldung</h3>
      <label for="error-name">Name:</label>
      <input type="text" id="error-name">
      <label for="error-email">E-Mail:</label>
      <input type="email" id="error-email">
      <label for="error-message">Beschreibung:</label>
      <textarea id="error-message"></textarea>
      <button onclick="sendeFehlermeldung()">Abschicken</button>
    </div>
  </div>

  <!-- Spenden-Button -->
  <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=thomas.schuster-vb%40eclipso.at&currency_code=EUR&source=url"
     target="_blank"
     rel="noopener"
     id="donate-button">
    Unterstütze mich
  </a>

  <!-- Footer -->
  <footer>
    <span id="copyright">
      © Questbook
    </span>
  </footer>

  <script type="module" src="script.js"></script>
</body>
</html>
