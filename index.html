<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Quest-Buch ‚Äì Start</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Popup-Stile */
    .popup-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    .popup-content {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 800px;
      width: 90%;
      position: relative;
    }
    /* Fehlermeldungsbutton oben rechts */
    #fehler-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: red;
      color: #fff;
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      z-index: 10000;
    }
    #fehler-button:hover {
      opacity: 0.85;
    }
    /* Spenden-Button (unten rechts) */
    #donate-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #ffc439;
      color: #111;
      padding: 10px 15px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
      font-size: 16px;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
      z-index: 10000;
    }
    #donate-button:hover {
      background-color: #ffb347;
    }
    /* Footer mit Copyright (unten mittig) */
    footer {
      position: fixed;
      bottom: 10px;
      width: 100%;
      text-align: center;
      z-index: 10000;
    }
    footer span {
      cursor: pointer;
      color: #aaa;
      font-size: 14px;
    }
    footer span:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<!-- Fehlermeldungsbutton oben rechts -->
<button id="fehler-button" onclick="zeigeFehlerPopup()">Fehlermeldung</button>

<header>
  <h1>Willkommen im Quest-Buch! Vers. 0.1</h1>
</header>

<main id="auth-container">
  <!-- Infotext √ºber das Spiel -->
  <section id="game-info">
    <h2>Was ist eigentlich ein Quest-Buch?</h2>
    <p class="info-text">
      üî• <strong>Werde zum Helden deines Alltags!</strong> üî•<br>
      Mit dem <span class="highlight">Quest-Buch</span> wird dein Alltag zum <span class="epic">epischen Abenteuer!</span> üí™‚ú®<br>
      Erledige mit deiner Familie oder Freunden spannende Quests, wirke m√§chtige Zauber und setze Spezialf√§higkeiten ein. üé≠üîÆ<br>
      Je mehr Aufgaben du meisterst, desto st√§rker wird dein Charakter ‚Äì Level f√ºr Level! üöÄ<br>
      <span class="cta">Bist du bereit, dein eigenes Abenteuer zu starten?</span> üèÜüéâ
    </p>
  </section>

  <!-- Buttons f√ºr Login/Register -->
  <div id="auth-selection">
    <button id="login-btn" class="auth-button">Einloggen</button>
    <button id="register-btn" class="auth-button">Registrieren</button>
  </div>

  <!-- Login-Formular -->
  <div id="login-form" class="auth-form" style="display:none;">
    <h3>Einloggen</h3>
    <input type="email" id="login-email" placeholder="E-Mail">
    <input type="password" id="login-password" placeholder="Passwort">
    <button class="auth-button" onclick="benutzerEinloggen()">Anmelden</button>
  </div>

  <!-- Registrierungs-Formular -->
  <div id="register-form" class="auth-form" style="display:none;">
    <h3>Registrieren / Familie gr√ºnden</h3>
    <input type="text" id="family-name" placeholder="(Optional) Familienname">
    <input type="email" id="admin-email" placeholder="E-Mail">
    <input type="password" id="admin-password" placeholder="Passwort">
    <button class="auth-button" onclick="familieErstellen()">Registrieren</button>
  </div>

  <!-- Link zum Erkl√§rvideo -->
  <div style="margin-top: 30px; text-align: center;">
    <a href="#" onclick="zeigeVideoPopup()">Erkl√§rvideo ansehen</a>
  </div>
</main>

<!-- Video-Popup -->
<div id="video-popup" class="popup-modal" onclick="schlie√üeVideoPopup()">
  <div class="popup-content" onclick="event.stopPropagation()">
    <a href="https://www.youtube.com/watch?v=Trdyo2j9zbs" target="_blank">Klicke hier, um das Video zu √∂ffnen</a>
  </div>
</div>


<!-- Admin-Login-Popup -->
<div id="admin-login-popup" class="popup-modal" onclick="schlie√üeAdminLogin()">
  <div class="popup-content" onclick="event.stopPropagation()">
    <h3>Admin-Login</h3>
    <input type="email" id="admin-email-input" placeholder="Admin-E-Mail">
    <input type="password" id="admin-password-input" placeholder="Passwort">
    <button onclick="adminLogin()">Einloggen</button>
  </div>
</div>

<!-- Fehlermeldungs-Popup -->
<div id="error-popup" class="popup-modal" onclick="schlie√üeFehlerPopup()">
  <div class="popup-content" onclick="event.stopPropagation()">
    <h3>Fehlermeldung</h3>
    <label for="error-name">Name:</label>
    <input type="text" id="error-name">
    <label for="error-email">E-Mail:</label>
    <input type="email" id="error-email">
    <label for="error-message">Beschreibung:</label>
    <textarea id="error-message"></textarea>
    <button onclick="sendeFehlermeldung()">Abschicken</button>
  </div>
</div>

<!-- Spenden-Button -->
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=thomas.schuster-vb%40eclipso.at&currency_code=EUR&source=url"
   target="_blank"
   rel="noopener"
   id="donate-button">
  Unterst√ºtze mich
</a>

<!-- Footer -->
<footer>
  <span id="copyright">
    ¬© Questbook
  </span>
</footer>

<!-- Dein Inline-Script: Popup-Funktionen -->
<script type="module">
  window.zeigeVideoPopup = function() {
    // Weisen dem iframe die YouTube-URL zu
    const iframe = document.getElementById("tutorial-iframe");
    iframe.src = "https://www.youtube.com/embed/Trdyo2j9zbs?autoplay=1";
    
    // Popup anzeigen
    document.getElementById("video-popup").style.display = "flex";
  };

  window.schlie√üeVideoPopup = function() {
    // Popup schlie√üen
    document.getElementById("video-popup").style.display = "none";
    // src leeren => Video stoppt
    document.getElementById("tutorial-iframe").src = "";
  };

  window.zeigeAdminLogin = function() {
    document.getElementById("admin-login-popup").style.display = "flex";
  };
  window.schlie√üeAdminLogin = function() {
    document.getElementById("admin-login-popup").style.display = "none";
  };

  window.zeigeFehlerPopup = function() {
    document.getElementById("error-popup").style.display = "flex";
  };
  window.schlie√üeFehlerPopup = function() {
    document.getElementById("error-popup").style.display = "none";
  };
</script>

<!-- Dein externes Script -->
<script type="module" src="script.js"></script>
</body>
</html>
